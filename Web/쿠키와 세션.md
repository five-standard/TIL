# 쿠키와 세션

## 쿠키
  > 클라이언트(로컬)에 저장되는 키와 값이 들어있는 작은 데이터 파일.

  ### 사용하는 이유
  -------------------------
  보통 웹 환경에서는 클라이언트와 서버가 HTTP 프로토콜을 통해 통신한다.
  하지만 HTTP 프로토콜은 아래와 같은 특징을 가지기 때문에 쿠키를 사용한다.
  - Connectionless  
    HTTP는 연결을 맺고 **Request**를 보내면 서버는 **Response를 보내고 연결이 끊어진다**.
  - Stateless  
    HTTP는 상태를 따로 저장하지 않는다.  
    따라서 연결이 끊어지는 순간 모든 상태 정보가 **사라지게** 된다.

  ### 쿠키의 구성
  -------------------------
  <img src="https://blog.kakaocdn.net/dn/begUgp/btrftnf69s1/vVhXrkd9BBsifKesLEostK/img.png" alt="구성요소" />

## 세션
  > 일정 기간 동안 **같은 사용자(클라이언트)로 부터 들어오는 일련의 요구를 하나의 상태로 보고 그 상태를 일정하게 유지**시키는 기술. 
  
  간단히 말하자면 **유저 정보를 상태로써 서버에 저장하고 관리한다는 것**이다.  
  참고로 서버는 세션ID를 사용해 클라이언트를 구분하며, 브라우저를 종료할 때까지 세션을 유지한다.

## 쿠키와 세션의 차이
  - 쿠키는 클라이언트에, 세션은 서버에 저장된다
  - 쿠키는 서버의 자원을 사용하지 않지만, 세션은 사용한다
  - 서버에 요청을 보내는 유저가 많다면, 세션은 부하가 심할 수 있다
  - 세션이 쿠키보다 보안 면에서 더 좋다.
    - 만약 쿠키에 민감한 정보를 담아 HTTP 요청을 보냈을 때, 정보를 스니핑 당할 수 있다.
    - 세션은 쿠키에 세션ID만 저장하고, 처리는 서버가 담당하기 때문에 더 안전하다.
  - 쿠키는 만료 시간 동안 파일로 저장되기 때문에, 브라우저를 종료해도 정보가 남는다.
  - 세션은 브라우저가 종료되면 만료 시간에 상관없이 삭제된다.